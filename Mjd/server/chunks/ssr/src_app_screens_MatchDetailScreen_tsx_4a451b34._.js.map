{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/screens/MatchDetailScreen.tsx"],"sourcesContent":["\n\n\"use client\";\n\nimport React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport { ScreenHeader } from '@/components/ScreenHeader';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport type { ScreenProps } from '@/app/page';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { cn } from '@/lib/utils';\nimport { format } from 'date-fns';\nimport { ar } from 'date-fns/locale';\nimport type { Fixture, Standing, LineupData, MatchEvent, MatchStatistics, PlayerWithStats, Player as PlayerType } from '@/lib/types';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Shirt, ArrowRight, ArrowLeft, Square, Clock, Loader2, Users, BarChart, ShieldCheck, ArrowUp, ArrowDown, Pencil } from 'lucide-react';\nimport { FootballIcon } from '@/components/icons/FootballIcon';\nimport { Progress } from '@/components/ui/progress';\nimport { LiveMatchStatus } from '@/components/LiveMatchStatus';\nimport { CURRENT_SEASON } from '@/lib/constants';\nimport { useAdmin, useFirestore } from '@/firebase/provider';\nimport { RenameDialog } from '@/components/RenameDialog';\nimport { doc, setDoc, deleteDoc, writeBatch, getDocs, collection, onSnapshot } from 'firebase/firestore';\nimport { useToast } from '@/hooks/use-toast';\nimport { FirestorePermissionError } from '@/firebase/errors';\nimport { errorEmitter } from '@/firebase/error-emitter';\nimport { Button } from '@/components/ui/button';\nimport { hardcodedTranslations } from '@/lib/hardcoded-translations';\nimport { isMatchLive } from '@/lib/matchStatus';\n\n// This is a temporary fallback. In a real app, you would use a proper i18n library.\nconst useTranslation = () => ({ t: (key: string) => key.replace(/_/g, ' ') });\n\n\ntype RenameType = 'player' | 'coach' | 'team' | 'league' | 'continent' | 'country' | 'status';\n\n\nconst PlayerCard = ({ player, navigate, onRename, isAdmin, showRating }: { player: PlayerType, navigate: ScreenProps['navigate'], onRename: () => void, isAdmin: boolean, showRating: boolean }) => {\n    const { t } = useTranslation();\n    const fallbackImage = \"https://media.api-sports.io/football/players/0.png\";\n    const playerImage = player.photo && player.photo.trim() !== '' ? player.photo : fallbackImage;\n\n    const rating = player.rating && !isNaN(parseFloat(player.rating))\n        ? parseFloat(player.rating).toFixed(1)\n        : null;\n\n    const getRatingColor = (r: string | null) => {\n        if (!r) return 'bg-gray-500';\n        const val = parseFloat(r);\n        if (val >= 8) return 'bg-green-600';\n        if (val >= 7) return 'bg-yellow-600';\n        return 'bg-red-600';\n    };\n\n    return (\n        <div className=\"relative flex flex-col items-center cursor-pointer\" onClick={() => player.id && navigate('PlayerDetails', { playerId: player.id })}>\n            <div className=\"relative w-12 h-12\">\n                <Avatar className=\"rounded-full w-12 h-12 object-cover border-2 border-white/50\">\n                    <AvatarImage src={playerImage} alt={player?.name || \"Player\"} />\n                    <AvatarFallback>{player?.name?.charAt(0) || 'P'}</AvatarFallback>\n                </Avatar>\n                {isAdmin && (\n                    <Button variant=\"ghost\" size=\"icon\" className=\"absolute -bottom-2 -left-2 h-6 w-6 bg-background/80 hover:bg-background rounded-full\" onClick={(e) => {e.stopPropagation(); onRename();}}>\n                        <Pencil className=\"h-3 w-3\" />\n                    </Button>\n                )}\n                {player.number && (\n                    <div className=\"absolute -top-1 -left-1 bg-gray-800 text-white text-[10px] font-bold rounded-full h-5 w-5 flex items-center justify-center border-2 border-background\">\n                        {player.number}\n                    </div>\n                )}\n                {showRating && rating && (\n                    <div className={cn(\n                        `absolute -top-1 -right-1 text-white text-[10px] font-bold rounded-full h-5 w-5 flex items-center justify-center border-2 border-background`,\n                        getRatingColor(rating)\n                    )}>\n                        {rating}\n                    </div>\n                )}\n            </div>\n            <span className=\"mt-1 text-[11px] font-semibold text-center truncate w-16\">{player?.name || t('unknown')}</span>\n        </div>\n    );\n};\n\n\nconst MatchHeaderCard = ({ fixture, navigate, customStatus }: { fixture: Fixture, navigate: ScreenProps['navigate'], customStatus: string | null }) => {\n    return (\n        <Card className=\"mb-4 bg-card/80 backdrop-blur-sm\">\n            <CardContent className=\"p-4\">\n                <div className=\"flex justify-between items-center text-xs text-muted-foreground mb-3\">\n                    <div className=\"flex items-center gap-2 cursor-pointer\" onClick={() => navigate('CompetitionDetails', { leagueId: fixture.league.id, title: fixture.league.name, logo: fixture.league.logo })}>\n                        <Avatar className=\"h-5 w-5\"><AvatarImage src={fixture.league.logo} /></Avatar>\n                        <span className=\"text-[10px]\">{fixture.league.name}</span>\n                    </div>\n                    <span className=\"text-[10px]\">{format(new Date(fixture.fixture.date), 'd MMMM yyyy', { locale: ar })}</span>\n                </div>\n                <div className=\"flex items-center justify-between gap-2\">\n                    <div className=\"flex flex-col items-center gap-2 flex-1 justify-end truncate cursor-pointer\" onClick={() => navigate('TeamDetails', { teamId: fixture.teams.home.id })}>\n                        <Avatar className=\"h-10 w-10 border-2 border-primary/50\"><AvatarImage src={fixture.teams.home.logo} /></Avatar>\n                        <span className=\"font-bold text-sm text-center truncate w-full\">{fixture.teams.home.name}</span>\n                    </div>\n                     <div className=\"relative flex flex-col items-center justify-center min-w-[120px] text-center\">\n                        <LiveMatchStatus fixture={fixture} large customStatus={customStatus} />\n                    </div>\n                    <div className=\"flex flex-col items-center gap-2 flex-1 truncate cursor-pointer\" onClick={() => navigate('TeamDetails', { teamId: fixture.teams.away.id })}>\n                         <Avatar className=\"h-10 w-10 border-2 border-primary/50\"><AvatarImage src={fixture.teams.away.logo} /></Avatar>\n                        <span className=\"font-bold text-sm text-center truncate w-full\">{fixture.teams.away.name}</span>\n                    </div>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nconst ShotMap = ({ homeStats, awayStats }: { homeStats: any[], awayStats: any[] }) => {\n    const { t } = useTranslation();\n    const findStat = (stats: any[], type: string): number => {\n        const value = stats.find(s => s.type === type)?.value;\n        if (typeof value === 'string') return parseInt(value, 10) || 0;\n        return value || 0;\n    };\n\n    const homeShotsInside = findStat(homeStats, \"Shots insidebox\");\n    const homeShotsOutside = findStat(homeStats, \"Shots outsidebox\");\n    const awayShotsInside = findStat(awayStats, \"Shots insidebox\");\n    const awayShotsOutside = findStat(awayStats, \"Shots outsidebox\");\n    \n    if ((homeShotsInside + homeShotsOutside + awayShotsInside + awayShotsOutside) === 0) {\n        return null; // Don't render if there are no shot stats\n    }\n\n\n    return (\n        <Card>\n            <CardHeader>\n                <CardTitle className=\"text-lg text-center\">{t('shot_map')}</CardTitle>\n            </CardHeader>\n            <CardContent>\n                <div className=\"relative w-full max-w-sm mx-auto aspect-[3/2] bg-green-700 bg-cover bg-center rounded-lg overflow-hidden border-4 border-green-900/50\" style={{backgroundImage: \"url('/pitch-horizontal.svg')\"}}>\n                    {/* Home Team (Right side) */}\n                    <div className=\"absolute right-[18%] top-1/2 -translate-y-1/2 text-center text-white\">\n                        <p className=\"font-bold text-2xl drop-shadow-lg\">{homeShotsInside}</p>\n                        <p className=\"text-xs\">{t('inside_box')}</p>\n                    </div>\n                     <div className=\"absolute right-[40%] top-1/2 -translate-y-1/2 text-center text-white\">\n                        <p className=\"font-bold text-2xl drop-shadow-lg\">{homeShotsOutside}</p>\n                         <p className=\"text-xs\">{t('outside_box')}</p>\n                    </div>\n\n                    {/* Away Team (Left side) */}\n                     <div className=\"absolute left-[18%] top-1/2 -translate-y-1/2 text-center text-white\">\n                        <p className=\"font-bold text-2xl drop-shadow-lg\">{awayShotsInside}</p>\n                         <p className=\"text-xs\">{t('inside_box')}</p>\n                    </div>\n                    <div className=\"absolute left-[40%] top-1/2 -translate-y-1/2 text-center text-white\">\n                        <p className=\"font-bold text-2xl drop-shadow-lg\">{awayShotsOutside}</p>\n                        <p className=\"text-xs\">{t('outside_box')}</p>\n                    </div>\n                </div>\n            </CardContent>\n        </Card>\n    )\n}\n\nconst DetailsTab = ({ fixture, statistics, loading }: { fixture: Fixture; statistics: MatchStatistics[] | null; loading: boolean }) => {\n    const { t } = useTranslation();\n    const homeStats = statistics?.find(s => s.team.id === fixture.teams.home.id)?.statistics || [];\n    const awayStats = statistics?.find(s => s.team.id === fixture.teams.away.id)?.statistics || [];\n\n    const findStat = (stats: any[], type: string) => stats.find(s => s.type === type)?.value ?? '0';\n\n    const statMapping: { labelKey: string; type: string; isProgress?: boolean }[] = [\n      { labelKey: \"possession\", type: \"Ball Possession\", isProgress: true },\n      { labelKey: \"total_shots\", type: \"Total Shots\" },\n      { labelKey: \"shots_on_goal\", type: \"Shots on Goal\" },\n      { labelKey: \"shots_off_goal\", type: \"Shots off Goal\" },\n      { labelKey: \"blocked_shots\", type: \"Blocked Shots\"},\n      { labelKey: \"fouls\", type: \"Fouls\" },\n      { labelKey: \"yellow_cards\", type: \"Yellow Cards\" },\n      { labelKey: \"red_cards\", type: \"Red Cards\" },\n      { labelKey: \"corner_kicks\", type: \"Corner Kicks\" },\n      { labelKey: \"offsides\", type: \"Offsides\" },\n    ];\n\n    return (\n        <div className=\"space-y-4\">\n             {statistics && statistics.length > 0 && (\n                <ShotMap homeStats={homeStats} awayStats={awayStats} />\n            )}\n            <Card>\n                <CardContent className=\"p-4 text-sm text-right\">\n                    <div className=\"flex justify-between py-2 border-b\">\n                        <span className=\"font-semibold\">{fixture.fixture.venue.name || \"غير محدد\"}</span>\n                        <span className=\"text-muted-foreground\">الملعب</span>\n                    </div>\n                    <div className=\"flex justify-between py-2 border-b\">\n                        <span className=\"font-semibold\">{fixture.league.round}</span>\n                        <span className=\"text-muted-foreground\">الجولة</span>\n                    </div>\n                    <div className=\"flex justify-between py-2\">\n                        <span className=\"font-semibold\">{fixture.fixture.status.long}</span>\n                        <span className=\"text-muted-foreground\">الحالة</span>\n                    </div>\n                </CardContent>\n            </Card>\n\n            <Card>\n                <CardContent className=\"p-4 space-y-4\">\n                    <h3 className=\"font-bold text-center\">إحصائيات المباراة</h3>\n                    {loading ? (\n                        <div className=\"flex justify-center p-8\"><Loader2 className=\"h-6 w-6 animate-spin\" /></div>\n                    ) : statistics && statistics.length > 0 ? (\n                        statMapping.map(stat => {\n                            const homeValueRaw = findStat(homeStats, stat.type);\n                            const awayValueRaw = findStat(awayStats, stat.type);\n                            \n                            if (stat.isProgress) {\n                                const homeVal = parseInt(String(homeValueRaw).replace('%','')) || 0;\n                                const awayVal = parseInt(String(awayValueRaw).replace('%','')) || 0;\n                                return (\n                                    <div key={stat.type} className=\"space-y-2\">\n                                        <div className=\"flex justify-between items-center text-xs font-bold\">\n                                            <span>{homeValueRaw}</span>\n                                            <span className=\"text-muted-foreground\">{t(stat.labelKey)}</span>\n                                            <span>{awayValueRaw}</span>\n                                        </div>\n                                        <div className=\"flex items-center gap-1\" dir=\"ltr\">\n                                            <Progress value={homeVal} indicatorClassName=\"bg-primary rounded-l-full\" className=\"rounded-l-full\"/>\n                                            <Progress value={awayVal} indicatorClassName=\"bg-accent rounded-r-full\" className=\"rounded-r-full\" style={{transform: 'rotate(180deg)'}}/>\n                                        </div>\n                                    </div>\n                                )\n                            }\n                            return (\n                                <div key={stat.type} className=\"flex justify-between items-center text-sm font-bold\">\n                                    <span>{homeValueRaw}</span>\n                                    <span className=\"text-muted-foreground font-normal\">{t(stat.labelKey)}</span>\n                                    <span>{awayValueRaw}</span>\n                                </div>\n                            )\n                        })\n                    ) : (\n                       <p className=\"text-center text-muted-foreground p-4\">الإحصائيات غير متاحة لهذه المباراة.</p>\n                    )}\n                </CardContent>\n            </Card>\n        </div>\n    );\n};\n\n\nconst TimelineTabContent = ({ events, homeTeam, awayTeam, highlightsOnly }: { events: MatchEvent[] | null, homeTeam: Fixture['teams']['home'], awayTeam: Fixture['teams']['away'], highlightsOnly: boolean }) => {\n    const { t } = useTranslation();\n    if (events === null) return <div className=\"flex justify-center p-8\"><Loader2 className=\"h-6 w-6 animate-spin\" /></div>;\n    \n    const filteredEvents = React.useMemo(() => {\n        if (!events) return [];\n        if (!highlightsOnly) return events;\n        return events.filter(e => e.type === 'Goal' || (e.type === 'Card' && e.detail.includes('Red')));\n    }, [events, highlightsOnly]);\n\n    if (filteredEvents.length === 0) {\n        const message = highlightsOnly ? \"لا توجد أهداف أو بطاقات حمراء.\" : \"لا توجد أحداث رئيسية في المباراة بعد.\";\n        return <p className=\"text-center text-muted-foreground p-8\">{message}</p>;\n    }\n    \n    const sortedEvents = [...filteredEvents].sort((a, b) => b.time.elapsed - a.time.elapsed);\n\n    const getEventIcon = (event: MatchEvent) => {\n        if (event.type === 'Goal') return <FootballIcon className=\"w-5 h-5 text-white\" />;\n        if (event.type === 'Card' && event.detail.includes('Yellow')) return <Square className=\"w-5 h-5 text-yellow-400 fill-current\" />;\n        if (event.type === 'Card' && event.detail.includes('Red')) return <Square className=\"w-5 h-5 text-red-500 fill-current\" />;\n        if (event.type === 'subst') return <Users className=\"w-4 h-4 text-blue-500\" />;\n        return <Clock className=\"w-5 h-5 text-muted-foreground\" />;\n    };\n\n    return (\n        <div className=\"space-y-6 pt-4\">\n             <div className=\"flex justify-between items-center px-4\">\n                <div className=\"flex items-center gap-2\">\n                    <Avatar className=\"h-8 w-8\"><AvatarImage src={awayTeam.logo} /></Avatar>\n                    <span className=\"font-bold\">{awayTeam.name}</span>\n                </div>\n                 <div className=\"flex items-center gap-2\">\n                    <span className=\"font-bold\">{homeTeam.name}</span>\n                    <Avatar className=\"h-8 w-8\"><AvatarImage src={homeTeam.logo} /></Avatar>\n                </div>\n            </div>\n            \n            <div className=\"relative px-2\">\n                <div className=\"absolute top-0 bottom-0 left-1/2 w-0.5 bg-border -translate-x-1/2\"></div>\n                {sortedEvents.map((event, index) => {\n                    const isHomeEvent = event.team.id === homeTeam.id;\n                    const playerOut = event.player;\n                    const playerIn = event.assist;\n\n                    return (\n                        <div key={`${event.time.elapsed}-${event.player.name}-${index}`} className={cn(\"relative flex my-4 items-center\", !isHomeEvent ? \"flex-row\" : \"flex-row-reverse\")}>\n                           <div className=\"flex-1 px-4\">\n                                <div className={cn(\"flex items-center gap-3 w-full\", !isHomeEvent ? \"flex-row text-left\" : \"flex-row-reverse text-right\")}>\n                                    <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-background flex-shrink-0\">\n                                        {getEventIcon(event)}\n                                    </div>\n                                    <div className=\"flex-1 text-sm min-w-0\">\n                                        {event.type === 'subst' && event.assist.name ? (\n                                            <div className=\"flex flex-col gap-1 text-xs\">\n                                                <div className='flex items-center gap-1 font-semibold text-green-500'><ArrowUp className=\"h-3 w-3\"/><span>{playerIn.name}</span></div>\n                                                <div className='flex items-center gap-1 font-semibold text-red-500'><ArrowDown className=\"h-3 w-3\"/><span>{playerOut.name}</span></div>\n                                            </div>\n                                        ) : (\n                                            <>\n                                                <p className=\"font-semibold truncate\">{event.player.name}</p>\n                                                <p className=\"text-xs text-muted-foreground truncate\">{event.detail}</p>\n                                            </>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                           \n                            <div className=\"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 z-10 bg-background border rounded-full h-8 w-8 flex items-center justify-center font-bold text-xs\">\n                                {event.time.elapsed}'\n                            </div>\n                            \n                            <div className=\"flex-1\" />\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n};\n\nconst TimelineTab = ({ events, homeTeam, awayTeam }: { events: MatchEvent[] | null; homeTeam: Fixture['teams']['home'], awayTeam: Fixture['teams']['away'] }) => {\n    const { t } = useTranslation();\n    return (\n        <Tabs defaultValue=\"highlights\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-2\">\n                <TabsTrigger value=\"highlights\">الأبرز</TabsTrigger>\n                <TabsTrigger value=\"all\">كل الأحداث</TabsTrigger>\n            </TabsList>\n            <TabsContent value=\"highlights\">\n                <TimelineTabContent events={events} homeTeam={homeTeam} awayTeam={awayTeam} highlightsOnly={true} />\n            </TabsContent>\n            <TabsContent value=\"all\">\n                <TimelineTabContent events={events} homeTeam={homeTeam} awayTeam={awayTeam} highlightsOnly={false} />\n            </TabsContent>\n        </Tabs>\n    );\n}\n\nconst LineupsTab = ({ lineups, events, navigate, isAdmin, onRename, homeTeamId, awayTeamId, detailedPlayersMap, matchStarted }: { lineups: LineupData[] | null; events: MatchEvent[] | null; navigate: ScreenProps['navigate'], isAdmin: boolean, onRename: (type: RenameType, id: number, name: string, originalName: string) => void, homeTeamId: number, awayTeamId: number, detailedPlayersMap: Map<number, { player: PlayerType; statistics: any[] }>, matchStarted: boolean }) => {\n    const { t } = useTranslation();\n    const [activeTeamTab, setActiveTeamTab] = useState<'home' | 'away'>('home');\n    \n    const getPlayerWithDetails = useCallback((basePlayer: PlayerType): PlayerType => {\n        if (!basePlayer.id) return basePlayer;\n        const detailedPlayer = detailedPlayersMap.get(basePlayer.id);\n        if (detailedPlayer) {\n            return {\n                ...basePlayer,\n                photo: detailedPlayer.player.photo || basePlayer.photo,\n                rating: detailedPlayer.statistics?.[0]?.games?.rating || basePlayer.rating,\n            };\n        }\n        return basePlayer;\n    }, [detailedPlayersMap]);\n\n    if (lineups === null) {\n        return <div className=\"flex justify-center p-8\"><Loader2 className=\"h-6 w-6 animate-spin\" /></div>;\n    }\n    \n    if (lineups.length < 2) {\n        return <p className=\"text-center text-muted-foreground p-8\">التشكيلات غير متاحة حاليًا.</p>;\n    }\n    \n    const home = lineups.find(l => l.team.id === homeTeamId);\n    const away = lineups.find(l => l.team.id === awayTeamId);\n\n    if (!home || !away) {\n         return <p className=\"text-center text-muted-foreground p-8\">خطأ في بيانات التشكيلة.</p>;\n    }\n    \n    const activeLineup = activeTeamTab === 'home' ? home : away;\n    \n    const substitutionEvents = events?.filter(e => e.type === 'subst' && e.team.id === activeLineup.team.id) || [];\n    \n    const renderPitch = (lineup: LineupData) => {\n        const formationGrid: { [key: number]: PlayerWithStats[] } = {};\n        const ungriddedPlayers: PlayerWithStats[] = [];\n\n        lineup.startXI.forEach(p => {\n            if (p.player.grid) {\n                const [row] = p.player.grid.split(':').map(Number);\n                if (!formationGrid[row]) formationGrid[row] = [];\n                formationGrid[row].push(p);\n            } else {\n                ungriddedPlayers.push(p);\n            }\n        });\n\n        Object.keys(formationGrid).forEach(rowKey => {\n            const row = Number(rowKey);\n            formationGrid[row].sort((a, b) => {\n                const colA = Number(a.player.grid?.split(':')[1] || 0);\n                const colB = Number(b.player.grid?.split(':')[1] || 0);\n                return colA - colB;\n            });\n        });\n        \n        const sortedRows = Object.keys(formationGrid).map(Number).sort((a, b) => b - a);\n\n        return (\n             <div className=\"relative w-full max-w-sm mx-auto aspect-[3/4] bg-green-700 bg-cover bg-center rounded-lg overflow-hidden border-4 border-green-900/50 flex flex-col justify-around p-2\" style={{backgroundImage: \"url('/pitch-vertical.svg')\"}}>\n                {sortedRows.map(row => (\n                    <div key={row} className=\"flex justify-around items-center w-full\">\n                        {formationGrid[row]?.map(p => {\n                            const fullPlayer = getPlayerWithDetails(p.player);\n                            return <PlayerCard key={p.player.id || p.player.name} player={fullPlayer} navigate={navigate} isAdmin={isAdmin} onRename={() => onRename('player', p.player.id, p.player.name, p.player.name)} showRating={matchStarted} />\n                        })}\n                    </div>\n                ))}\n                 {ungriddedPlayers.length > 0 && (\n                    <div className=\"flex justify-around items-center\">\n                        {ungriddedPlayers.map(p => {\n                            const fullPlayer = getPlayerWithDetails(p.player);\n                            return <PlayerCard key={p.player.id || p.player.name} player={fullPlayer} navigate={navigate} isAdmin={isAdmin} onRename={() => onRename('player', p.player.id, p.player.name, p.player.name)} showRating={matchStarted} />\n                        })}\n                    </div>\n                )}\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"space-y-4\">\n            <Tabs value={activeTeamTab} onValueChange={(val) => setActiveTeamTab(val as 'home' | 'away')} className=\"w-full\">\n                <TabsList className=\"grid w-full grid-cols-2\">\n                    <TabsTrigger value=\"home\">{home.team.name}</TabsTrigger>\n                    <TabsTrigger value=\"away\">{away.team.name}</TabsTrigger>\n                </TabsList>\n            </Tabs>\n            \n            <div className=\"font-bold text-center text-muted-foreground text-sm\">{t('formation')}: {activeLineup.formation}</div>\n            \n            {renderPitch(activeLineup)}\n            \n            <Card>\n                <CardContent className=\"p-3 text-center\">\n                    <h3 className=\"font-bold text-sm mb-2\">{t('coach')}</h3>\n                     <div className=\"relative inline-flex flex-col items-center gap-1\">\n                        <Avatar className=\"h-12 w-12\">\n                            <AvatarImage src={activeLineup.coach.photo} />\n                            <AvatarFallback>{activeLineup.coach.name?.charAt(0)}</AvatarFallback>\n                        </Avatar>\n                        <span className=\"font-semibold text-xs\">{activeLineup.coach.name}</span>\n                        {isAdmin && (\n                            <Button variant=\"ghost\" size=\"icon\" className=\"absolute -top-1 -right-8 h-6 w-6\" onClick={(e) => {e.stopPropagation(); onRename('coach', activeLineup.coach.id, activeLineup.coach.name, activeLineup.coach.name);}}>\n                                <Pencil className=\"h-3 w-3\" />\n                            </Button>\n                        )}\n                    </div>\n                </CardContent>\n            </Card>\n\n            {substitutionEvents.length > 0 && (\n                <Card>\n                    <CardHeader><CardTitle className=\"text-base text-center\">{t('substitutions')}</CardTitle></CardHeader>\n                    <CardContent className=\"space-y-2\">\n                        {substitutionEvents.map((event, index) => (\n                            <div key={index} className=\"flex items-center justify-between text-xs p-1 border-b last:border-b-0\">\n                                <div className='font-bold w-10 text-center'>{event.time.elapsed}'</div>\n                                <div className='flex-1 flex items-center justify-end gap-1 font-semibold text-red-500'>\n                                    <span>{event.player.name}</span>\n                                    <ArrowDown className=\"h-3 w-3\"/>\n                                </div>\n                                <div className='flex-1 flex items-center justify-start gap-1 font-semibold text-green-500 ml-4'>\n                                    <ArrowUp className=\"h-3 w-3\"/>\n                                    <span>{event.assist.name}</span>\n                                </div>\n                            </div>\n                        ))}\n                    </CardContent>\n                </Card>\n            )}\n            \n            <div className=\"pt-4\">\n                <h3 className=\"text-center text-base font-bold mb-2\">{t('substitutes')}</h3>\n                <div className=\"space-y-2\">\n                    {activeLineup.substitutes.map(p => {\n                        const fullPlayer = getPlayerWithDetails(p.player);\n                        return (\n                         <Card key={p.player.id || p.player.name} className=\"p-2 cursor-pointer\" onClick={() => p.player.id && navigate('PlayerDetails', { playerId: p.player.id })}>\n                            <div className=\"flex items-center gap-3\">\n                                <Avatar className=\"h-8 w-8\">\n                                    <AvatarImage src={fullPlayer.photo} />\n                                    <AvatarFallback>{fullPlayer.name?.charAt(0)}</AvatarFallback>\n                                </Avatar>\n                                <div>\n                                    <p className=\"font-semibold text-sm\">{fullPlayer.name}</p>\n                                    <p className=\"text-xs text-muted-foreground\">{fullPlayer.position}</p>\n                                </div>\n                                 {isAdmin && <Button variant=\"ghost\" size=\"icon\" className=\"mr-auto\" onClick={(e) => {e.stopPropagation(); onRename('player', p.player.id, p.player.name, p.player.name);}}><Pencil className=\"h-4 w-4\" /></Button>}\n                            </div>\n                        </Card>\n                    )})}\n                </div>\n            </div>\n        </div>\n    );\n};\n\n\nconst StandingsTab = ({ standings, homeTeamId, awayTeamId, navigate, loading }: { standings: Standing[] | null, homeTeamId: number, awayTeamId: number, navigate: ScreenProps['navigate'], loading: boolean }) => {\n    const { t } = useTranslation();\n    if (loading) return <div className=\"flex justify-center p-8\"><Loader2 className=\"h-6 w-6 animate-spin\" /></div>;\n    if (!standings || standings.length === 0) return <p className=\"text-center text-muted-foreground p-8\">{t('standings_not_available')}</p>;\n    \n    return (\n        <Table>\n            <TableHeader>\n                <TableRow>\n                    <TableHead className=\"text-center font-bold\">نقاط</TableHead>\n                    <TableHead className=\"text-center\">ف/ت/خ</TableHead>\n                    <TableHead className=\"text-center\">لعب</TableHead>\n                    <TableHead>الفريق</TableHead>\n                    <TableHead className=\"w-[40px] text-right px-2\">#</TableHead>\n                </TableRow>\n            </TableHeader>\n            <TableBody>\n                {standings.map((s) => {\n                    if (!s.team?.id) return null;\n                    const isRelevantTeam = s.team.id === homeTeamId || s.team.id === awayTeamId;\n                    return (\n                        <TableRow key={s.team.id} className={cn(isRelevantTeam && \"bg-primary/10\", \"cursor-pointer\")} onClick={() => navigate('TeamDetails', { teamId: s.team.id })}>\n                            <TableCell className=\"text-center font-bold\">{s.points}</TableCell>\n                            <TableCell className=\"text-center text-xs\">{`${s.all.win}/${s.all.draw}/${s.all.lose}`}</TableCell>\n                            <TableCell className=\"text-center\">{s.all.played}</TableCell>\n                            <TableCell>\n                                <div className=\"flex items-center gap-2 justify-end\">\n                                     <p className=\"font-semibold truncate\">{s.team.name}</p>\n                                     <Avatar className=\"h-6 w-6\"><AvatarImage src={s.team.logo} /></Avatar>\n                                </div>\n                            </TableCell>\n                            <TableCell className=\"font-bold px-2\">{s.rank}</TableCell>\n                        </TableRow>\n                    );\n                })}\n            </TableBody>\n        </Table>\n    );\n};\n\n\ninterface MatchDetailScreenProps extends ScreenProps {\n    fixtureId: string;\n    onCustomNameChange: () => Promise<void>;\n}\n\nexport default function MatchDetailScreen({ goBack, canGoBack, fixtureId, navigate, onCustomNameChange }: MatchDetailScreenProps) {\n    const [fixture, setFixture] = useState<Fixture | null>(null);\n    const [standings, setStandings] = useState<Standing[] | null>(null);\n    const [lineups, setLineups] = useState<LineupData[] | null>(null);\n    const [events, setEvents] = useState<MatchEvent[] | null>(null);\n    const [statistics, setStatistics] = useState<MatchStatistics[] | null>(null);\n    const [detailedPlayersMap, setDetailedPlayersMap] = useState<Map<number, { player: PlayerType; statistics: any[] }>>(new Map());\n    const [customStatus, setCustomStatus] = useState<string | null>(null);\n    const [customNames, setCustomNames] = useState<{ [key: string]: Map<number, string> } | null>(null);\n\n    const [loadingFixture, setLoadingFixture] = useState(true);\n    const [loadingDetails, setLoadingDetails] = useState(true);\n    const [loadingStandings, setLoadingStandings] = useState(true);\n    \n    const { isAdmin, db } = useAdmin();\n    const { toast } = useToast();\n    const [renameItem, setRenameItem] = useState<{ type: RenameType, id: number, name: string, originalName: string } | null>(null);\n\n    \n    const fetchAllCustomNames = useCallback(async () => {\n        if (!db) {\n            setCustomNames({});\n            return;\n        }\n        try {\n            const [leagues, teams, players, coaches] = await Promise.all([\n                getDocs(collection(db, \"leagueCustomizations\")),\n                getDocs(collection(db, \"teamCustomizations\")),\n                getDocs(collection(db, \"playerCustomizations\")),\n                getDocs(collection(db, \"coachCustomizations\"))\n            ]);\n            const names: { [key: string]: Map<number, string> } = {\n                leagues: new Map(),\n                teams: new Map(),\n                players: new Map(),\n                coaches: new Map()\n            };\n            leagues.forEach(doc => names.leagues.set(Number(doc.id), doc.data().customName));\n            teams.forEach(doc => names.teams.set(Number(doc.id), doc.data().customName));\n            players.forEach(doc => names.players.set(Number(doc.id), doc.data().customName));\n            coaches.forEach(doc => names.coaches.set(Number(doc.id), doc.data().customName));\n            setCustomNames(names);\n        } catch (error) {\n             setCustomNames({});\n        }\n    }, [db]);\n\n\n    const getDisplayName = useCallback((type: 'league' | 'team' | 'player' | 'coach', id: number, defaultName: string) => {\n        if (!customNames || !id) return defaultName;\n        const key = `${type}s` as 'leagues' | 'teams' | 'players' | 'coaches';\n        const customName = customNames[key]?.get(id);\n        if (customName) return customName;\n        \n        const hardcodedName = hardcodedTranslations?.[`${type}s`]?.[id];\n        if (hardcodedName) return hardcodedName;\n\n        return defaultName;\n    }, [customNames]);\n\n    const handleSaveRename = (type: RenameType, id: number, newName: string) => {\n        if (!isAdmin || !db || !renameItem) return;\n        const collectionName = `${type}Customizations`;\n        const docRef = doc(db, collectionName, String(id));\n        const originalName = renameItem.originalName;\n\n        const operation = newName && newName !== originalName ? setDoc(docRef, { customName: newName }) : deleteDoc(docRef);\n\n        operation.then(() => {\n            toast({ title: `تم تعديل الاسم`, description: 'قد تحتاج لإعادة التحميل لرؤية التغييرات فوراً.' });\n            onCustomNameChange();\n            fetchAllCustomNames();\n        }).catch((error) => {\n            errorEmitter.emit('permission-error', new FirestorePermissionError({\n                path: docRef.path,\n                operation: (newName && newName !== originalName) ? 'create' : 'delete',\n                requestResourceData: { customName: newName }\n            }));\n        });\n        setRenameItem(null);\n    };\n    \n    \n    useEffect(() => {\n        const controller = new AbortController();\n        const signal = controller.signal;\n\n        const fetchInitialFixture = async () => {\n            if (!fixtureId) return;\n            setLoadingFixture(true);\n            try {\n                const response = await fetch(`/api/football/fixtures?id=${fixtureId}`, { signal });\n                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n                const data = await response.json();\n\n                if (signal.aborted) return;\n                setFixture(data.response[0] || null);\n            } catch (error) {\n                if (!signal.aborted) console.error(\"Could not fetch fixture:\", error);\n            } finally {\n                if (!signal.aborted) setLoadingFixture(false);\n            }\n        };\n\n        fetchInitialFixture();\n        return () => controller.abort();\n    }, [fixtureId]);\n    \n    useEffect(() => {\n        if (!fixture || !db) return;\n\n        const controller = new AbortController();\n        const signal = controller.signal;\n        let unsubStatus: (() => void) | undefined;\n        \n        const fetchAllDetails = async () => {\n            setLoadingDetails(true);\n            try {\n                await fetchAllCustomNames();\n\n                const fetchTeamPlayers = async (teamId: number, season: number) => {\n                    const allPlayersForTeam: { player: PlayerType, statistics: any[] }[] = [];\n                    let currentPage = 1;\n                    let totalPages = 1;\n\n                    while (currentPage <= totalPages) {\n                        try {\n                            const res = await fetch(`/api/football/players?team=${teamId}&season=${season}&page=${currentPage}`, { signal });\n                            if (signal.aborted) return [];\n                            if (res.ok) {\n                                const data = await res.json();\n                                if (data.response) {\n                                    allPlayersForTeam.push(...data.response);\n                                }\n                                totalPages = data.paging?.total || 1;\n                                currentPage++;\n                            } else {\n                                 break;\n                            }\n                        } catch (e) {\n                             break;\n                        }\n                    }\n                    return allPlayersForTeam;\n                };\n                \n                const [lineupsRes, eventsRes, statsRes, homePlayersData, awayPlayersData] = await Promise.all([\n                    fetch(`/api/football/lineups?fixture=${fixture.fixture.id}`, { signal }),\n                    fetch(`/api/football/events?fixture=${fixture.fixture.id}`, { signal }),\n                    fetch(`/api/football/statistics?fixture=${fixture.fixture.id}`, { signal }),\n                    fetchTeamPlayers(fixture.teams.home.id, fixture.league.season),\n                    fetchTeamPlayers(fixture.teams.away.id, fixture.league.season),\n                ]);\n\n                if (signal.aborted) return;\n                \n                const lineupsData = await lineupsRes.json();\n                const eventsData = await eventsRes.json();\n                const statsData = await statsRes.json();\n\n                if (signal.aborted) return;\n                \n                const playersMap = new Map<number, { player: PlayerType, statistics: any[] }>();\n                const allPlayers = [...homePlayersData, ...awayPlayersData];\n\n                allPlayers.forEach((p: { player: PlayerType, statistics: any[] }) => {\n                    if (p.player.id) {\n                        playersMap.set(p.player.id, p);\n                    }\n                });\n                \n                setDetailedPlayersMap(playersMap);\n                setLineups(lineupsData.response);\n                setEvents(eventsData.response);\n                setStatistics(statsData.response);\n\n            } catch (error) {\n                if (!signal.aborted) console.error(\"Could not fetch match details:\", error);\n            } finally {\n                if (!signal.aborted) setLoadingDetails(false);\n            }\n        };\n\n        const fetchStandings = async () => {\n            setLoadingStandings(true);\n            try {\n                const response = await fetch(`/api/football/standings?league=${fixture.league.id}&season=${fixture.league.season}`, { signal });\n                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n                const data = await response.json();\n                if (signal.aborted) return;\n                setStandings(data.response[0]?.league?.standings?.[0] || null);\n            } catch (error) {\n                if (!signal.aborted) console.error(\"Could not fetch standings:\", error);\n            } finally {\n                 if (!signal.aborted) setLoadingStandings(false);\n            }\n        };\n        \n        if (fixtureId && typeof fixtureId === 'string') {\n          unsubStatus = onSnapshot(doc(db, 'matchCustomizations', fixtureId), (doc) => {\n              if(doc.exists()) {\n                  setCustomStatus(doc.data().customStatus);\n              } else {\n                  setCustomStatus(null);\n              }\n          });\n        }\n        \n        fetchAllDetails();\n        fetchStandings();\n\n        return () => {\n            controller.abort();\n            if (unsubStatus) unsubStatus();\n        };\n    }, [fixture, db, fetchAllCustomNames, fixtureId]);\n    \n    \n    const processedFixture = useMemo(() => {\n        if (!fixture || !customNames) return null;\n        return {\n            ...fixture,\n            league: { ...fixture.league, name: getDisplayName('league', fixture.league.id, fixture.league.name) },\n            teams: {\n                home: { ...fixture.teams.home, name: getDisplayName('team', fixture.teams.home.id, fixture.teams.home.name) },\n                away: { ...fixture.teams.away, name: getDisplayName('team', fixture.teams.away.id, fixture.teams.away.name) }\n            }\n        };\n    }, [fixture, getDisplayName, customNames]);\n\n    const processedStandings = useMemo(() => {\n        if (!standings || !customNames) return null;\n        return standings.map(s => ({\n            ...s,\n            team: {\n                ...s.team,\n                name: getDisplayName('team', s.team.id, s.team.name),\n            }\n        }));\n    }, [standings, getDisplayName, customNames]);\n\n    const processedLineups = useMemo(() => {\n        if (!lineups || !customNames) return null;\n        return lineups.map(l => ({\n            ...l,\n            team: { ...l.team, name: getDisplayName('team', l.team.id, l.team.name) },\n            coach: l.coach ? { ...l.coach, name: getDisplayName('coach', l.coach.id, l.coach.name) } : l.coach,\n            startXI: l.startXI.map(p => ({ ...p, player: { ...p.player, name: getDisplayName('player', p.player.id, p.player.name) }})),\n            substitutes: l.substitutes.map(p => ({ ...p, player: { ...p.player, name: getDisplayName('player', p.player.id, p.player.name) }})),\n        }));\n    }, [lineups, getDisplayName, customNames]);\n    \n    const handleOpenRename = (type: RenameType, id: number, originalName: string) => {\n        const currentName = getDisplayName(type as 'player' | 'coach' | 'team' | 'league', id, originalName);\n        setRenameItem({ type, id, name: currentName, originalName });\n    };\n\n    if (loadingFixture) {\n        return (\n            <div className=\"flex flex-col h-full bg-background\">\n                <ScreenHeader title={'تفاصيل المباراة'} onBack={goBack} canGoBack={canGoBack} />\n                <div className=\"flex-1 overflow-y-auto p-4\">\n                    <Skeleton className=\"h-48 w-full\" />\n                </div>\n            </div>\n        );\n    }\n\n    if (!processedFixture) {\n        return (\n            <div className=\"flex flex-col h-full bg-background\">\n                <ScreenHeader title={'تفاصيل المباراة'} onBack={goBack} canGoBack={canGoBack} />\n                <p className=\"text-center text-muted-foreground p-8\">لم يتم العثور على المباراة.</p>\n            </div>\n        );\n    }\n    \n    const homeTeamId = processedFixture.teams.home.id;\n    const awayTeamId = processedFixture.teams.away.id;\n    const matchStarted = processedFixture.fixture.status.short !== 'NS';\n    \n    return (\n      <div className=\"flex h-full flex-col bg-background\">\n        <div className=\"flex-1 flex flex-col min-h-0\">\n          <ScreenHeader\n            title={'تفاصيل المباراة'}\n            onBack={goBack}\n            canGoBack={canGoBack}\n            actions={\n              isAdmin && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={() =>\n                    handleOpenRename(\n                      'status',\n                      processedFixture.fixture.id,\n                      customStatus || ''\n                    )\n                  }\n                >\n                  <Pencil className=\"h-4 w-4\" />\n                </Button>\n              )\n            }\n          />\n          {renameItem && (\n            <RenameDialog\n              isOpen={!!renameItem}\n              onOpenChange={() => setRenameItem(null)}\n              item={{ ...renameItem, purpose: 'rename' }}\n              onSave={(type, id, name) =>\n                handleSaveRename(type as RenameType, Number(id), name)\n              }\n            />\n          )}\n          <div className=\"flex-1 overflow-y-auto p-4\">\n            <MatchHeaderCard\n              fixture={processedFixture}\n              navigate={navigate}\n              customStatus={customStatus}\n            />\n            <Tabs defaultValue=\"lineups\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-4\">\n                <TabsTrigger value=\"details\">التفاصيل</TabsTrigger>\n                <TabsTrigger value=\"lineups\">التشكيلات</TabsTrigger>\n                <TabsTrigger value=\"timeline\">الأحداث</TabsTrigger>\n                <TabsTrigger value=\"standings\">الترتيب</TabsTrigger>\n              </TabsList>\n              <TabsContent value=\"details\" className=\"pt-4\">\n                <DetailsTab\n                  fixture={processedFixture}\n                  statistics={statistics}\n                  loading={loadingDetails}\n                />\n              </TabsContent>\n              <TabsContent value=\"lineups\" className=\"pt-4\">\n                <LineupsTab\n                  lineups={processedLineups}\n                  events={events}\n                  navigate={navigate}\n                  isAdmin={isAdmin}\n                  onRename={handleOpenRename}\n                  homeTeamId={homeTeamId}\n                  awayTeamId={awayTeamId}\n                  detailedPlayersMap={detailedPlayersMap}\n                  matchStarted={matchStarted}\n                />\n              </TabsContent>\n              <TabsContent value=\"timeline\" className=\"pt-4\">\n                <TimelineTab\n                  events={events}\n                  homeTeam={processedFixture.teams.home}\n                  awayTeam={processedFixture.teams.away}\n                />\n              </TabsContent>\n              <TabsContent value=\"standings\" className=\"pt-4\">\n                <StandingsTab\n                  standings={processedStandings}\n                  homeTeamId={homeTeamId}\n                  awayTeamId={awayTeamId}\n                  navigate={navigate}\n                  loading={loadingStandings}\n                />\n              </TabsContent>\n            </Tabs>\n          </div>\n        </div>\n      </div>\n    );\n}\n\n    "],"names":[],"mappings":"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","debugId":null}}]
}