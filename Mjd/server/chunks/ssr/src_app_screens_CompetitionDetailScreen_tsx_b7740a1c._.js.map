{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/screens/CompetitionDetailScreen.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useEffect, useState, useCallback, useRef, useMemo } from 'react';\nimport { ScreenHeader } from '@/components/ScreenHeader';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport type { ScreenProps } from '@/app/page';\nimport { useAdmin, useAuth, useFirestore } from '@/firebase/provider';\nimport { Button } from '@/components/ui/button';\nimport { Star, Pencil, Trash2, Loader2, Crown } from 'lucide-react';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { doc, setDoc, updateDoc, deleteField, getDocs, collection, deleteDoc, getDoc } from 'firebase/firestore';\nimport { RenameDialog } from '@/components/RenameDialog';\nimport { cn } from '@/lib/utils';\nimport type { Fixture, Standing, TopScorer, Team, Favorites, CrownedTeam, FavoriteLeague } from '@/lib/types';\nimport { useToast } from '@/hooks/use-toast';\nimport { FirestorePermissionError } from '@/firebase/errors';\nimport { errorEmitter } from '@/firebase/error-emitter';\nimport { FixtureItem } from '@/components/FixtureItem';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from \"@/components/ui/alert-dialog\"\nimport { CURRENT_SEASON } from '@/lib/constants';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { hardcodedTranslations } from '@/lib/hardcoded-translations';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { getLocalFavorites, setLocalFavorites } from '@/lib/local-favorites';\nimport { format, isToday } from 'date-fns';\nimport { ar } from 'date-fns/locale';\nimport { POPULAR_LEAGUES, POPULAR_TEAMS } from '@/lib/popular-data';\n\nconst API_FOOTBALL_HOST = 'v3.football.api-sports.io';\nconst API_KEY = process.env.NEXT_PUBLIC_API_FOOTBALL_KEY;\n\ntype RenameType = 'league' | 'team' | 'player' | 'continent' | 'country' | 'coach' | 'status' | 'crown';\ninterface RenameState {\n  id: string | number;\n  name: string;\n  note?: string;\n  type: RenameType;\n  purpose: 'rename' | 'note' | 'crown';\n  originalData?: any;\n  originalName?: string;\n}\n\nfunction SeasonSelector({ season, onSeasonChange }: { season: number, onSeasonChange: (newSeason: number) => void }) {\n    const seasons = Array.from({ length: 10 }, (_, i) => new Date().getFullYear() + 3 - i);\n\n    return (\n        <div className=\"flex items-center justify-center gap-2 px-4 pt-2 pb-1 text-xs text-muted-foreground\">\n            <span>عرض بيانات موسم</span>\n            <Select value={String(season)} onValueChange={(value) => onSeasonChange(Number(value))}>\n                <SelectTrigger className=\"w-[100px] h-7 text-xs\">\n                    <SelectValue placeholder=\"اختر موسماً\" />\n                </SelectTrigger>\n                <SelectContent>\n                    {seasons.map(s => (\n                        <SelectItem key={s} value={String(s)}>{s}</SelectItem>\n                    ))}\n                </SelectContent>\n            </Select>\n        </div>\n    );\n}\n\nconst CompetitionHeaderCard = ({ league, countryName, teamsCount }: { league: { name?: string, logo?: string }, countryName?: string, teamsCount?: number }) => (\n    <Card className=\"mb-4 overflow-hidden\">\n        <div className=\"relative h-24 bg-gradient-to-r from-primary/20 to-accent/20\">\n             <Avatar className=\"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 h-24 w-24 border-4 border-background p-2 bg-background\">\n                <AvatarImage src={league.logo} alt={league.name} className=\"object-contain\" />\n                <AvatarFallback>{league.name?.charAt(0)}</AvatarFallback>\n            </Avatar>\n        </div>\n        <CardContent className=\"pt-14 text-center\">\n            <h1 className=\"text-xl font-bold\">{league.name}</h1>\n            <p className=\"text-muted-foreground\">{countryName}</p>\n        </CardContent>\n    </Card>\n);\n\n\nexport function CompetitionDetailScreen({ navigate, goBack, canGoBack, title: initialTitle, leagueId, logo, favorites, customNames, setFavorites, onCustomNameChange }: ScreenProps & { title?: string, leagueId?: number, logo?: string, setFavorites: React.Dispatch<React.SetStateAction<Partial<Favorites>>>, onCustomNameChange: () => Promise<void> }) {\n  const { isAdmin } = useAdmin();\n  const { user } = useAuth();\n  const { db } = useFirestore();\n  const { toast } = useToast();\n  \n  const [loading, setLoading] = useState(true);\n  const [displayTitle, setDisplayTitle] = useState(initialTitle);\n  \n  const [renameItem, setRenameItem] = useState<RenameState | null>(null);\n  \n  const [isDeleteAlertOpen, setDeleteAlertOpen] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n\n  const [fixtures, setFixtures] = useState<Fixture[]>([]);\n  const [standings, setStandings] = useState<Standing[]>([]);\n  const [topScorers, setTopScorers] = useState<TopScorer[]>([]);\n  const [teams, setTeams] = useState<{team: Team}[]>([]);\n  const [season, setSeason] = useState<number>(CURRENT_SEASON);\n  \n  const listRef = useRef<HTMLDivElement>(null);\n  const dateRefs = useRef<{ [key: string]: HTMLDivElement | null }>({});\n  \n  useEffect(() => {\n    let isMounted = true;\n    \n    const loadInitialData = async () => {\n        if (!leagueId) {\n            setLoading(false);\n            return;\n        }\n\n        setLoading(true);\n        \n        try {\n            const headers = {\n                'x-rapidapi-host': API_FOOTBALL_HOST,\n                'x-rapidapi-key': API_KEY || '',\n            };\n\n            const [standingsRes, scorersRes, fixturesRes, teamsRes] = await Promise.all([\n                fetch(`https://${API_FOOTBALL_HOST}/standings?league=${leagueId}&season=${season}`, { headers }),\n                fetch(`https://${API_FOOTBALL_HOST}/players/topscorers?league=${leagueId}&season=${season}`, { headers }),\n                fetch(`https://${API_FOOTBALL_HOST}/fixtures?league=${leagueId}&season=${season}`, { headers }),\n                fetch(`https://${API_FOOTBALL_HOST}/teams?league=${leagueId}&season=${season}`, { headers })\n            ]);\n\n            if (!isMounted) return;\n\n            const standingsData = await standingsRes.json();\n            const scorersData = await scorersRes.json();\n            const fixturesData = await fixturesRes.json();\n            const teamsData = await teamsRes.json();\n\n            const newStandings = standingsData.response[0]?.league?.standings[0] || [];\n            const newTopScorers = scorersData.response || [];\n            const newTeams = teamsData.response || [];\n            const sortedFixtures = [...(fixturesData.response || [])].sort((a:Fixture,b:Fixture) => a.fixture.timestamp - b.fixture.timestamp);\n\n            setStandings(newStandings);\n            setTopScorers(newTopScorers);\n            setTeams(newTeams);\n            setFixtures(sortedFixtures);\n\n        } catch(e) {\n             console.error(\"Failed to fetch competition details:\", e);\n            if(isMounted) toast({ variant: 'destructive', title: 'خطأ', description: 'فشل في تحميل بيانات البطولة.' });\n        } finally {\n            if (isMounted) setLoading(false);\n        }\n    };\n\n    loadInitialData();\n\n    return () => {\n        isMounted = false;\n    };\n}, [leagueId, season, toast]);\n\nconst getDisplayName = useCallback((type: 'team' | 'player' | 'league', id: number, defaultName: string) => {\n    if (!customNames || !id) return defaultName;\n    const key = `${type}s` as 'teams' | 'players' | 'leagues';\n    const map = customNames[key] as Map<number, string>;\n    const customName = map?.get(id);\n    if(customName) return customName;\n    \n    const hardcodedName = hardcodedTranslations[key]?.[id];\n    if (hardcodedName) return hardcodedName;\n\n    return defaultName;\n  }, [customNames]);\n  \n  useEffect(() => {\n    if(leagueId && initialTitle) {\n        setDisplayTitle(getDisplayName('league', leagueId, initialTitle));\n    }\n  }, [customNames, leagueId, initialTitle, getDisplayName]);\n\n\n  const groupedFixtures = useMemo(() => {\n    return fixtures.reduce((acc, fixture) => {\n        const date = format(new Date(fixture.fixture.timestamp * 1000), 'yyyy-MM-dd');\n        if (!acc[date]) {\n            acc[date] = [];\n        }\n        acc[date].push(fixture);\n        return acc;\n    }, {} as Record<string, Fixture[]>);\n  }, [fixtures]);\n\n  useEffect(() => {\n    if (loading || Object.keys(groupedFixtures).length === 0) return;\n\n    const sortedDates = Object.keys(groupedFixtures).sort();\n    const todayStr = format(new Date(), 'yyyy-MM-dd');\n    \n    let targetDate = sortedDates.find(date => date >= todayStr);\n    \n    if (!targetDate && sortedDates.length > 0) {\n        targetDate = sortedDates[sortedDates.length - 1];\n    }\n    \n    if (targetDate && listRef.current && dateRefs.current[targetDate]) {\n        const list = listRef.current;\n        const element = dateRefs.current[targetDate];\n        if (element) {\n             setTimeout(() => {\n                const listTop = list.offsetTop;\n                const elementTop = element.offsetTop;\n                list.scrollTop = elementTop - listTop;\n            }, 100);\n        }\n    }\n}, [loading, groupedFixtures]);\n  \n    const handleFavoriteToggle = useCallback((team: Team) => {\n        const teamId = team.id;\n    \n        if (!user) { // Guest mode logic\n            const currentFavorites = getLocalFavorites();\n            const newFavorites = JSON.parse(JSON.stringify(currentFavorites));\n            if (!newFavorites.teams) newFavorites.teams = {};\n\n            const isCurrentlyFavorited = !!newFavorites.teams[teamId];\n    \n            if (isCurrentlyFavorited) {\n                delete newFavorites.teams[teamId];\n            } else {\n                newFavorites.teams[teamId] = { teamId, name: team.name, logo: team.logo, type: team.national ? 'National' : 'Club' };\n            }\n            setLocalFavorites(newFavorites);\n            return;\n        }\n\n        // Logged-in user logic\n        const favDocRef = doc(db, 'users', user.uid, 'favorites', 'data');\n        const isCurrentlyFavorited = !!favorites?.teams?.[teamId];\n        const updatePayload = {\n            [`teams.${teamId}`]: isCurrentlyFavorited\n                ? deleteField()\n                : { teamId, name: team.name, logo: team.logo, type: team.national ? 'National' : 'Club' }\n        };\n        updateDoc(favDocRef, updatePayload).catch(err => {\n            errorEmitter.emit('permission-error', new FirestorePermissionError({ path: favDocRef.path, operation: 'update', requestResourceData: updatePayload }));\n        });\n    }, [user, db, toast, favorites]);\n    \n    const handleLeagueFavoriteToggle = useCallback(() => {\n        if (!leagueId || !displayTitle || !logo) return;\n    \n        if (!user) { // Guest mode logic\n            const currentFavorites = getLocalFavorites();\n             const newFavorites = JSON.parse(JSON.stringify(currentFavorites));\n            if (!newFavorites.leagues) newFavorites.leagues = {};\n\n            const isCurrentlyFavorited = !!newFavorites.leagues?.[leagueId];\n    \n            if (isCurrentlyFavorited) {\n                delete newFavorites.leagues[leagueId];\n            } else {\n                 newFavorites.leagues[leagueId] = { name: initialTitle || displayTitle, leagueId, logo, notificationsEnabled: true };\n            }\n            setLocalFavorites(newFavorites);\n            return;\n        }\n\n        // Logged-in user logic\n        const favDocRef = doc(db, 'users', user.uid, 'favorites', 'data');\n        const isCurrentlyFavorited = !!favorites?.leagues?.[leagueId];\n        const updatePayload = {\n            [`leagues.${leagueId}`]: isCurrentlyFavorited \n            ? deleteField() \n            : { name: initialTitle || displayTitle, leagueId, logo, notificationsEnabled: true }\n        };\n        updateDoc(favDocRef, updatePayload).catch(err => {\n            errorEmitter.emit('permission-error', new FirestorePermissionError({ path: favDocRef.path, operation: 'update', requestResourceData: updatePayload }));\n        });\n    }, [leagueId, displayTitle, logo, initialTitle, user, db, toast, favorites]);\n\n\n  const handleOpenCrownDialog = (team: Team) => {\n    if (!user) {\n        toast({ title: 'مستخدم زائر', description: 'يرجى تسجيل الدخول لاستخدام هذه الميزة.' });\n        return;\n    }\n    setRenameItem({\n        id: team.id,\n        name: getDisplayName('team', team.id, team.name),\n        type: 'crown',\n        purpose: 'crown',\n        originalData: team,\n        note: favorites?.crownedTeams?.[team.id]?.note || '',\n    });\n  };\n  \n  const handleOpenRename = (type: RenameType, id: number, originalData: any) => {\n    if (!isAdmin) return;\n    if (type === 'team') {\n        const currentName = getDisplayName('team', id, originalData.name);\n        setRenameItem({ id, name: currentName, type, purpose: 'rename', originalData, originalName: originalData.name });\n    } else if (type === 'player') {\n        const currentName = getDisplayName('player', id, originalData.name);\n        setRenameItem({ id, name: currentName, type, purpose: 'rename', originalData, originalName: originalData.name });\n    } else if (type === 'league' && leagueId) {\n        setRenameItem({ type: 'league', id: leagueId, name: displayTitle || '', purpose: 'rename', originalData: {name: initialTitle}, originalName: initialTitle });\n    }\n  };\n\n  const handleSaveRenameOrNote = (type: RenameType, id: string | number, newName: string, newNote: string = '') => {\n    if (!renameItem || !db) return;\n    const { purpose, originalData, originalName } = renameItem;\n\n    if (purpose === 'rename' && isAdmin) {\n        const collectionName = `${type}Customizations`;\n        const docRef = doc(db, collectionName, String(id));\n        const data = { customName: newName };\n\n        const op = (newName && newName.trim() && newName !== originalName)\n            ? setDoc(docRef, data)\n            : deleteDoc(docRef);\n\n        op.then(() => onCustomNameChange())\n        .catch(serverError => {\n            errorEmitter.emit('permission-error', new FirestorePermissionError({ path: docRef.path, operation: 'write', requestResourceData: data }));\n        });\n\n    } else if (purpose === 'crown' && user) {\n        const teamId = Number(id);\n        const newFavorites = JSON.parse(JSON.stringify(favorites || {}));\n        if (!newFavorites.crownedTeams) newFavorites.crownedTeams = {};\n        const isCurrentlyCrowned = !!newFavorites.crownedTeams?.[teamId];\n        \n        if (isCurrentlyCrowned) {\n            delete newFavorites.crownedTeams[teamId];\n        } else {\n            newFavorites.crownedTeams[teamId] = { teamId, name: (originalData as Team).name, logo: (originalData as Team).logo, note: newNote };\n        }\n\n        setFavorites(newFavorites);\n\n        if (!user) {\n            setLocalFavorites(newFavorites);\n        } else if (db) {\n            const favDocRef = doc(db, 'users', user.uid, 'favorites', 'data');\n            const updatePayload = { [`crownedTeams.${teamId}`]: isCurrentlyCrowned ? deleteField() : newFavorites.crownedTeams[teamId] };\n            updateDoc(favDocRef, updatePayload).catch(err => {\n                errorEmitter.emit('permission-error', new FirestorePermissionError({ path: favDocRef.path, operation: 'update', requestResourceData: updatePayload }));\n            });\n        }\n    }\n    setRenameItem(null);\n  };\n\n  const handleDeleteCompetition = () => {\n    if (!isAdmin || !db || !leagueId) return;\n    setIsDeleting(true);\n    const docRef = doc(db, 'managedCompetitions', String(leagueId));\n\n    deleteDoc(docRef)\n      .then(() => {\n        toast({ title: \"نجاح\", description: \"تم حذف البطولة بنجاح.\" });\n        goBack();\n      })\n      .catch(serverError => {\n        const permissionError = new FirestorePermissionError({\n            path: docRef.path,\n            operation: 'delete',\n        });\n        errorEmitter.emit('permission-error', permissionError);\n      })\n      .finally(() => {\n        setIsDeleting(false);\n        setDeleteAlertOpen(false);\n      });\n  }\n\n  const secondaryActions = (\n    <div className=\"flex items-center gap-1\">\n      {leagueId && (\n        <Button variant=\"ghost\" size=\"icon\" onClick={handleLeagueFavoriteToggle}>\n            <Star className={cn(\"h-5 w-5 text-muted-foreground\", favorites?.leagues?.[leagueId] && \"fill-current text-yellow-400\")} />\n        </Button>\n      )}\n      {isAdmin && leagueId && (\n        <>\n            <AlertDialog open={isDeleteAlertOpen} onOpenChange={setDeleteAlertOpen}>\n                <AlertDialogTrigger asChild>\n                    <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={(e) => { e.stopPropagation(); setDeleteAlertOpen(true); }}\n                    >\n                        <Trash2 className=\"h-5 w-5 text-destructive\" />\n                    </Button>\n                </AlertDialogTrigger>\n                <AlertDialogContent>\n                    <AlertDialogHeader>\n                        <AlertDialogTitle>هل أنت متأكد؟</AlertDialogTitle>\n                        <AlertDialogDescription>\n                           سيتم حذف هذه البطولة من قائمة البطولات المدارة.\n                        </AlertDialogDescription>\n                    </AlertDialogHeader>\n                    <AlertDialogFooter>\n                        <AlertDialogCancel>إلغاء</AlertDialogCancel>\n                        <AlertDialogAction\n                            className=\"bg-destructive hover:bg-destructive/90\"\n                            onClick={handleDeleteCompetition}\n                            disabled={isDeleting}\n                        >\n                            {isDeleting ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : \"حذف\"}\n                        </AlertDialogAction>\n                    </AlertDialogFooter>\n                </AlertDialogContent>\n            </AlertDialog>\n            <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => handleOpenRename('league', leagueId, {name: initialTitle})}\n            >\n                <Pencil className=\"h-5 w-5\" />\n            </Button>\n        </>\n      )}\n    </div>\n  );\n\n  const sortedFixtureDates = Object.keys(groupedFixtures).sort();\n  \n  if (!favorites || !customNames) {\n      return (\n        <div className=\"flex h-full flex-col bg-background\">\n          <ScreenHeader title={\"\"} onBack={goBack} canGoBack={canGoBack} />\n          <div className=\"flex-1 flex items-center justify-center\">\n            <Loader2 className=\"h-8 w-8 animate-spin\" />\n          </div>\n        </div>\n      );\n  }\n\n  return (\n    <div className=\"flex h-full flex-col bg-background\">\n      <ScreenHeader title={\"\"} onBack={goBack} canGoBack={canGoBack} actions={secondaryActions} />\n      {renameItem && <RenameDialog \n          isOpen={!!renameItem}\n          onOpenChange={(isOpen) => !isOpen && setRenameItem(null)}\n          item={renameItem}\n          onSave={(type, id, name, note) => handleSaveRenameOrNote(type as 'team' | 'crown' | 'league', Number(id), name, note || '')}\n        />}\n       <div className=\"flex-1 overflow-y-auto p-1\">\n        <CompetitionHeaderCard league={{ name: displayTitle, logo }} teamsCount={teams.length} />\n        <Tabs defaultValue=\"matches\" className=\"w-full\">\n           <div className=\"sticky top-0 bg-background z-10 px-1 pt-1\">\n             <div className=\"bg-card rounded-b-lg border-x border-b shadow-md\">\n              <SeasonSelector season={season} onSeasonChange={setSeason} />\n              <TabsList className=\"grid w-full grid-cols-4 rounded-none h-12 p-0 bg-transparent\">\n                <TabsTrigger value=\"matches\">المباريات</TabsTrigger>\n                <TabsTrigger value=\"standings\">الترتيب</TabsTrigger>\n                <TabsTrigger value=\"scorers\">الهدافين</TabsTrigger>\n                <TabsTrigger value=\"teams\">الفرق</TabsTrigger>\n              </TabsList>\n             </div>\n          </div>\n          <TabsContent value=\"matches\" className=\"p-0 mt-0\">\n             <div ref={listRef} className=\"max-h-[60vh] overflow-y-auto space-y-4 pt-2\">\n                {loading ? (\n                    <div className=\"space-y-4 p-4\">\n                        {Array.from({ length: 5 }).map((_, i) => <Skeleton key={i} className=\"h-20 w-full\" />)}\n                    </div>\n                ) : sortedFixtureDates.length > 0 ? (\n                    sortedFixtureDates.map(date => (\n                        <div key={date} ref={el => dateRefs.current[date] = el}>\n                            <h3 className=\"font-bold text-center text-sm text-muted-foreground my-2\">\n                                {format(new Date(date), 'EEEE, d MMMM yyyy', { locale: ar })}\n                            </h3>\n                            <div className=\"space-y-2 px-1\">\n                                {groupedFixtures[date].map(fixture => (\n                                    <FixtureItem key={fixture.fixture.id} fixture={fixture} navigate={navigate} />\n                                ))}\n                            </div>\n                        </div>\n                    ))\n                ) : <p className=\"pt-4 text-center text-muted-foreground\">لا توجد مباريات لهذا الموسم.</p>}\n             </div>\n          </TabsContent>\n          <TabsContent value=\"standings\" className=\"p-0 mt-0\">\n            {loading ? (\n                 <div className=\"space-y-px p-4\">\n                    {Array.from({ length: 18 }).map((_, i) => <Skeleton key={i} className=\"h-10 w-full\" />)}\n                </div>\n            ) : standings.length > 0 ? (\n                <Table>\n                    <TableHeader>\n                        <TableRow>\n                            <TableHead className=\"text-center\">نقاط</TableHead>\n                            <TableHead className=\"text-center\">خ</TableHead>\n                            <TableHead className=\"text-center\">ت</TableHead>\n                            <TableHead className=\"text-center\">ف</TableHead>\n                            <TableHead className=\"text-center\">لعب</TableHead>\n                            <TableHead>الفريق</TableHead>\n                            <TableHead className=\"w-[40px] text-right px-2\">#</TableHead>\n                        </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                        {standings.map((s) => {\n                            if (!s.team?.id) return null;\n                            const displayName = getDisplayName('team', s.team.id, s.team.name);\n                            return (\n                            <TableRow key={s.team.id} className=\"cursor-pointer\" onClick={() => navigate('TeamDetails', { teamId: s.team.id, leagueId: leagueId })}>\n                                <TableCell className=\"text-center font-bold\">{s.points}</TableCell>\n                                <TableCell className=\"text-center\">{s.all.lose}</TableCell>\n                                <TableCell className=\"text-center\">{s.all.draw}</TableCell>\n                                <TableCell className=\"text-center\">{s.all.win}</TableCell>\n                                <TableCell className=\"text-center\">{s.all.played}</TableCell>\n                                <TableCell className=\"font-medium\">\n                                    <div className=\"flex items-center gap-2 justify-end\">\n                                        <p className=\"truncate\">{displayName}</p>\n                                        <Avatar className=\"h-6 w-6\">\n                                            <AvatarImage src={s.team.logo} alt={s.team.name} />\n                                            <AvatarFallback>{s.team.name.substring(0,1)}</AvatarFallback>\n                                        </Avatar>\n                                    </div>\n                                </TableCell>\n                                <TableCell className=\"font-bold px-2\">{s.rank}</TableCell>\n                            </TableRow>\n                        )})}\n                    </TableBody>\n                </Table>\n            ): <p className=\"pt-4 text-center text-muted-foreground\">الترتيب غير متاح حالياً.</p>}\n          </TabsContent>\n           <TabsContent value=\"scorers\" className=\"p-0 mt-0\">\n            {loading ? (\n                <div className=\"space-y-px p-4\">\n                    {Array.from({ length: 10 }).map((_, i) => <Skeleton key={i} className=\"h-12 w-full\" />)}\n                </div>\n            ) : topScorers.length > 0 ? (\n                <Table>\n                    <TableHeader>\n                        <TableRow>\n                            <TableHead className=\"text-center w-12\">الأهداف</TableHead>\n                            <TableHead>اللاعب</TableHead>\n                            <TableHead className=\"w-8 text-right px-2\">#</TableHead>\n                        </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                        {topScorers.map((scorer, index) => {\n                            if (!scorer?.player?.id) return null;\n                            const displayName = getDisplayName('player', scorer.player.id, scorer.player.name);\n                            const teamName = getDisplayName('team', scorer.statistics[0]?.team.id, scorer.statistics[0]?.team.name);\n                            return (\n                                <TableRow key={scorer.player.id} className=\"cursor-pointer\" onClick={() => navigate('PlayerDetails', { playerId: scorer.player.id })}>\n                                    <TableCell className=\"font-bold text-lg text-center\">{scorer.statistics[0]?.goals.total}</TableCell>\n                                    <TableCell>\n                                        <div className=\"flex items-center gap-3 justify-end\">\n                                            <div>\n                                                <p className=\"font-semibold truncate text-right\">{displayName}</p>\n                                                <p className=\"text-xs text-muted-foreground truncate text-right\">{teamName}</p>\n                                            </div>\n                                            <Avatar className=\"h-10 w-10\">\n                                                <AvatarImage src={scorer.player.photo} alt={scorer.player.name} />\n                                                <AvatarFallback>{scorer.player.name.substring(0, 2)}</AvatarFallback>\n                                            </Avatar>\n                                        </div>\n                                    </TableCell>\n                                    <TableCell className=\"font-bold text-right px-2\">{index + 1}</TableCell>\n                                </TableRow>\n                            )})}\n                    </TableBody>\n                </Table>\n            ) : <p className=\"pt-4 text-center text-muted-foreground\">قائمة الهدافين غير متاحة.</p>}\n          </TabsContent>\n          <TabsContent value=\"teams\" className=\"mt-0\">\n            {loading ? (\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4\">\n                    {Array.from({ length: 12 }).map((_, i) => (\n                        <div key={i} className=\"flex flex-col items-center gap-2 rounded-lg border bg-card p-4\">\n                            <Skeleton className=\"h-16 w-16 rounded-full\" />\n                            <Skeleton className=\"h-4 w-24\" />\n                        </div>\n                    ))}\n                </div>\n            ) : teams.length > 0 ? (\n                 <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 p-4\">\n                    {teams.map(({ team }) => {\n                        if (!team) return null;\n                        const displayName = getDisplayName('team', team.id, team.name);\n                        const isFavoritedTeam = !!favorites?.teams?.[team.id];\n                        const isCrowned = !!favorites?.crownedTeams?.[team.id];\n                        \n                        return (\n                        <div key={team.id} className=\"relative flex flex-col items-center gap-2 rounded-lg border bg-card p-4 text-center cursor-pointer\" onClick={() => navigate('TeamDetails', { teamId: team.id, leagueId: leagueId })}>\n                             <Avatar className=\"h-16 w-16\">\n                                <AvatarImage src={team.logo} alt={team.name} />\n                                <AvatarFallback>{team.name.substring(0, 2)}</AvatarFallback>\n                            </Avatar>\n                            {isAdmin && <Button variant=\"ghost\" size=\"icon\" className=\"absolute top-1 right-1 h-8 w-8\" onClick={(e) => { e.stopPropagation(); handleOpenRename('team', team.id, team) }}>\n                                <Pencil className=\"h-4 w-4\"/>\n                            </Button>}\n                            <span className=\"font-semibold text-sm\">\n                                {displayName}\n                            </span>\n                            <div className=\"absolute top-1 left-1 flex flex-col gap-0.5\">\n                                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={(e) => { e.stopPropagation(); handleFavoriteToggle(team); }}>\n                                    <Star className={cn(\"h-5 w-5\", isFavoritedTeam ? \"text-yellow-400 fill-current\" : \"text-muted-foreground/50\")} />\n                                </Button>\n                                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={(e) => { e.stopPropagation(); handleOpenCrownDialog(team); }}>\n                                    <Crown className={cn(\"h-5 w-5\", isCrowned ? \"text-yellow-400 fill-current\" : \"text-muted-foreground/50\")} />\n                                </Button>\n                            </div>\n                        </div>\n                    )})}\n                </div>\n            ) : <p className=\"pt-4 text-center text-muted-foreground\">الفرق غير متاحة.</p>}\n        </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n\n    "],"names":[],"mappings":"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","debugId":null}}]
}